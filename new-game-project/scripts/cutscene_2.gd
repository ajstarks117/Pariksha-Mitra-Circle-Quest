extends Node2D


@onready var label = $RichTextLabel
@onready var next_button = $Next
@onready var previous_button = $Previous


var dialogue_lines = [
	"[center][color=white]à¤¹à¤¿à¤°à¤µà¤¾ à¤ à¤¿à¤ªà¤•à¤¾ (à¤¸à¥à¤Ÿà¤¾à¤°à¥à¤Ÿ à¤ªà¥‰à¤ˆà¤‚à¤Ÿ) à¤†à¤£à¤¿ à¤²à¤¾à¤² à¤ à¤¿à¤ªà¤•à¤¾ (à¤à¤‚à¤¡ à¤ªà¥‰à¤ˆà¤‚à¤Ÿ) à¤¹à¤²à¤µà¤¤à¤¾à¤¨à¤¾ à¤•à¤¾à¤¯ à¤¹à¥‹à¤¤à¥‡ à¤¹à¥‡ à¤¤à¥à¤®à¥à¤¹à¥€ à¤ªà¤¹à¤¿à¤²à¤•à¤¾?
	
	à¤œà¤¸à¥‡ à¤¤à¥à¤®à¥à¤¹à¥€ à¤µà¤°à¥à¤¤à¥à¤³à¤¾à¤µà¤° à¤¹à¥‡ à¤¬à¤¿à¤‚à¤¦à¥‚ à¤¸à¤®à¤¾à¤¯à¥‹à¤œà¤¿à¤¤ à¤•à¤°à¤¤à¤¾, à¤¤à¤¸à¤‚à¤š à¤®à¤¹à¤¾ à¤†à¤£à¤¿ à¤²à¤˜à¥ à¤šà¤¾à¤ª à¤—à¤¤à¤¿à¤¶à¥€à¤²à¤ªà¤£à¥‡ à¤¹à¤¾à¤¯à¤²à¤¾à¤‡à¤Ÿ à¤•à¥‡à¤²à¤‚ à¤œà¤¾à¤¤à¤‚.
	à¤•à¤¨à¥à¤«à¤°à¥à¤® à¤¬à¤Ÿà¤£ à¤¦à¤¾à¤¬à¤²à¥à¤¯à¤¾à¤¨à¤‚à¤¤à¤°, à¤¸à¤‚à¤¦à¤°à¥à¤­ à¤®à¥à¤¹à¤£à¥‚à¤¨ à¤²à¤¾à¤²-à¤›à¤¾à¤¯à¤¾à¤‚à¤•à¤¿à¤¤ à¤•à¥à¤·à¥‡à¤¤à¥à¤°à¤¾à¤šà¤¾ à¤µà¤¾à¤ªà¤° à¤•à¤°à¥‚à¤¨ à¤…à¤‚à¤¤à¤¿à¤® à¤‰à¤¤à¥à¤¤à¤° à¤¨à¤¿à¤¶à¥à¤šà¤¿à¤¤ à¤•à¥‡à¤²à¥‡ à¤œà¤¾à¤¤à¥‡.
	à¤¹à¥‡ à¤¨à¤¿à¤°à¥à¤§à¤¾à¤°à¤¿à¤¤ à¤•à¤°à¤¤à¥‡ à¤•à¥€ à¤¹à¤¾à¤¯à¤²à¤¾à¤‡à¤Ÿ à¤†à¤°à¥à¤• (à¤²à¤¾à¤² à¤°à¤‚à¤—à¤¾à¤¤) à¤®à¥‡à¤œà¤° à¤†à¤°à¥à¤• à¤•à¤¿à¤‚à¤µà¤¾ à¤®à¤¾à¤¯à¤¨à¤° à¤†à¤°à¥à¤• à¤®à¥à¤¹à¤£à¥‚à¤¨ à¤µà¤°à¥à¤—à¥€à¤•à¥ƒà¤¤ à¤•à¥‡à¤²à¥‡ à¤—à¥‡à¤²à¥‡ à¤†à¤¹à¥‡ à¤•à¥€ à¤¨à¤¾à¤¹à¥€.
	
	à¤¹à¥‡ à¤…à¤¸à¥‡ à¤•à¤¾ à¤˜à¤¡à¤¤ à¤¹à¥‹à¤¤à¥‡ à¤¹à¥€ à¤®à¥à¤–à¥à¤¯ à¤¸à¤‚à¤•à¤²à¥à¤ªà¤¨à¤¾ à¤¸à¤®à¤œà¥‚à¤¨ à¤˜à¥‡à¤Šà¤¯à¤¾.",
	"[center][b][u]à¤®à¥‹à¤ à¥‡ à¤†à¤£à¤¿ à¤²à¤¹à¤¾à¤¨ à¤šà¤¾à¤ª  à¤¸à¤®à¤œà¥‚à¤¨ à¤˜à¥‡à¤£à¥‡[/u][/b][/center]

	à¤œà¥€à¤µà¤¾ **AB** à¤µà¤°à¥à¤¤à¥à¤³à¤¾à¤²à¤¾ à¤¦à¥‹à¤¨ à¤­à¤¾à¤—à¤¾à¤‚à¤®à¤§à¥à¤¯à¥‡ à¤µà¤¿à¤­à¤¾à¤—à¤¤à¥‹:
	- à¤²à¤¹à¤¾à¤¨ à¤­à¤¾à¤—à¤¾à¤²à¤¾ **à¤²à¤˜à¥ à¤šà¤¾à¤ª** à¤®à¥à¤¹à¤£à¤¤à¤¾à¤¤, à¤¤à¥‹ à¤ªà¥à¤¢à¥€à¤²à¤ªà¥à¤°à¤®à¤¾à¤£à¥‡ à¤¦à¤°à¥à¤¶à¤µà¤¿à¤²à¤¾ à¤œà¤¾à¤¤à¥‹: [color=green]à¤•à¤‚à¤¸ AXB[/color].
	- à¤®à¥‹à¤ à¥à¤¯à¤¾ à¤­à¤¾à¤—à¤¾à¤²à¤¾ **à¤¦à¥€à¤°à¥à¤˜ à¤šà¤¾à¤ª** à¤®à¥à¤¹à¤£à¤¤à¤¾à¤¤, à¤¤à¥‹ à¤ªà¥à¤¢à¥€à¤²à¤ªà¥à¤°à¤®à¤¾à¤£à¥‡ à¤¦à¤°à¥à¤¶à¤µà¤¿à¤²à¤¾ à¤œà¤¾à¤¤à¥‹: [color=red]à¤•à¤‚à¤¸ AYB[/color].

	à¤‰à¤¦à¤¾à¤¹à¤°à¤£à¤¾à¤°à¥à¤¥, à¤ªà¤¿à¤à¥à¤à¤¾ à¤•à¤²à¥à¤ªà¤¨à¤¾ à¤•à¤°à¤¾! à¤¤à¥à¤®à¥à¤¹à¥€ à¤¤à¥à¤¯à¤¾à¤šà¤¾ à¤à¤• à¤¤à¥à¤•à¤¡à¤¾ (à¤•à¤‚à¤¸ **AXB**) à¤•à¤¾à¤ªà¤²à¤¾ à¤¤à¤° à¤¤à¥‹ à¤ªà¤¿à¤à¥à¤à¤¾à¤šà¥à¤¯à¤¾ à¤²à¤¹à¤¾à¤¨ à¤­à¤¾à¤—à¤¾à¤²à¤¾ à¤®à¥à¤¹à¤£à¤œà¥‡à¤š **à¤²à¤˜à¥ à¤šà¤¾à¤ª** à¤®à¥à¤¹à¤£à¤¤à¤¾à¤¤. à¤‰à¤°à¤²à¥‡à¤²à¤¾ à¤ªà¤¿à¤à¥à¤à¤¾à¤šà¤¾ à¤­à¤¾à¤— (à¤•à¤‚à¤¸ **AYB**) **à¤¦à¥€à¤°à¥à¤˜ à¤šà¤¾à¤ª** à¤®à¥à¤¹à¤£à¥‚à¤¨ à¤“à¤³à¤–à¤²à¤¾ à¤œà¤¾à¤¤à¥‹. ðŸ•
	[center][img=200]res://assets/diagram1.png[/img][/center]",
	
	"[b]Key Concept:[/b]
	- **à¤…à¤°à¥à¤§à¤µà¥ƒà¤¤à¥à¤¤à¤¾à¤ªà¥‡à¤•à¥à¤·à¤¾ (à¤…à¤°à¥à¤§à¤—à¥‹à¤²à¤¾à¤ªà¥‡à¤•à¥à¤·à¤¾) à¤²à¤¹à¤¾à¤¨ à¤…à¤¸à¤²à¥‡à¤²à¥à¤¯à¤¾ à¤µà¤•à¥à¤°à¤¾à¤²à¤¾** **à¤²à¤˜à¥ à¤šà¤¾à¤ª** à¤®à¥à¤¹à¤£à¤¤à¤¾à¤¤.  
	- **à¤…à¤°à¥à¤§à¤µà¥ƒà¤¤à¥à¤¤à¤¾à¤ªà¥‡à¤•à¥à¤·à¤¾ à¤®à¥‹à¤ à¥à¤¯à¤¾ à¤µà¤•à¥à¤°à¤¾à¤²à¤¾** **à¤¦à¥€à¤°à¥à¤˜ à¤šà¤¾à¤ª/à¤®à¤¹à¤¾à¤šà¤¾à¤ª** à¤®à¥à¤¹à¤£à¤¤à¤¾à¤¤.
	
	[center][img=200]res://assets/diagram2.png[/img][/center]
	
	[b]Corresponding Arcs:[/b]
	à¤œà¤° à¤•à¥‹à¤£à¤¤à¥à¤¯à¤¾à¤¹à¥€ à¤µà¤°à¥à¤¤à¥à¤³à¤¾à¤šà¥à¤¯à¤¾ à¤¦à¥‹à¤¨ à¤µà¤•à¥à¤°à¤¾à¤‚à¤¨à¥€ à¤¸à¤®à¤¾à¤¨ à¤Ÿà¥‹à¤•à¤‚ à¤¸à¤¾à¤®à¤¾à¤¯à¤¿à¤• à¤•à¥‡à¤²à¥€ à¤†à¤£à¤¿ à¤à¤•à¤¤à¥à¤° à¤¯à¥‡à¤Šà¤¨ à¤¸à¤‚à¤ªà¥‚à¤°à¥à¤£ à¤µà¤°à¥à¤¤à¥à¤³ à¤¤à¤¯à¤¾à¤° à¤•à¥‡à¤²à¥‡, à¤¤à¤° à¤¤à¥à¤¯à¤¾à¤‚à¤¨à¤¾ à¤¸à¤‚à¤¬à¤‚à¤§à¤¿à¤¤ à¤µà¤•à¥à¤° (Corresponding Arcs) à¤®à¥à¤¹à¤£à¤¤à¤¾à¤¤. à¤‰à¤¦à¤¾à¤¹à¤°à¤£à¤¾à¤°à¥à¤¥:
	- **à¤•à¤‚à¤¸ AYB** à¤†à¤£à¤¿ **à¤•à¤‚à¤¸ AXB** à¤¹à¥‡ à¤¸à¤‚à¤¬à¤‚à¤§à¤¿à¤¤ à¤µà¤•à¥à¤° à¤†à¤¹à¥‡à¤¤ à¤•à¤¾à¤°à¤£ à¤¤à¥‡ à¤à¤•à¤¤à¥à¤° à¤¯à¥‡à¤Šà¤¨ à¤¸à¤‚à¤ªà¥‚à¤°à¥à¤£ à¤µà¤°à¥à¤¤à¥à¤³ à¤¤à¤¯à¤¾à¤° à¤•à¤°à¤¤à¤¾à¤¤.

	[center][i][u]à¤…à¤°à¥à¤§à¤µà¥ƒà¤¤à¥à¤¤à¥€à¤¯ à¤µà¤•à¥à¤° (Semicircular Arcs):[/u][/i][/center]
	- à¤œà¥‡à¤µà¥à¤¹à¤¾ à¤à¤–à¤¾à¤¦à¥€ à¤œà¥€à¤µà¤¾ (chord) à¤µà¤°à¥à¤¤à¥à¤³à¤¾à¤šà¥à¤¯à¤¾ à¤•à¥‡à¤‚à¤¦à¥à¤°à¤¾à¤¤à¥‚à¤¨ à¤œà¤¾à¤¤à¥‡, à¤¤à¥‡à¤µà¥à¤¹à¤¾ à¤¤à¥€ à¤µà¤°à¥à¤¤à¥à¤³à¤¾à¤²à¤¾ à¤¦à¥‹à¤¨ à¤¸à¤®à¤¾à¤¨ à¤­à¤¾à¤—à¤¾à¤‚à¤®à¤§à¥à¤¯à¥‡ à¤µà¤¿à¤­à¤¾à¤œà¤¿à¤¤ à¤•à¤°à¤¤à¥‡. à¤¯à¤¾ à¤µà¤•à¥à¤°à¤¾à¤‚à¤¨à¤¾ **à¤…à¤°à¥à¤§à¤µà¥ƒà¤¤à¥à¤¤à¥€à¤¯ à¤µà¤•à¥à¤°** (*Semicircular Arcs*) à¤®à¥à¤¹à¤£à¤¤à¤¾à¤¤.
	- à¤‰à¤¦à¤¾à¤¹à¤°à¤£à¤¾à¤°à¥à¤¥, à¤œà¤° à¤œà¥€à¤µà¤¾ **RT** à¤ªà¤¿à¤à¥à¤à¤¾à¤šà¥à¤¯à¤¾ à¤•à¥‡à¤‚à¤¦à¥à¤°à¤¾à¤¤à¥‚à¤¨ à¤œà¤¾à¤£à¤¾à¤°à¤¾ à¤µà¥à¤¯à¤¾à¤¸ à¤…à¤¸à¥‡à¤², à¤¤à¤° à¤¤à¥‹ à¤ªà¤¿à¤à¥à¤à¤¾à¤²à¤¾ à¤¦à¥‹à¤¨ à¤¸à¤®à¤¾à¤¨ à¤­à¤¾à¤—à¤¾à¤‚à¤®à¤§à¥à¤¯à¥‡ à¤µà¤¿à¤­à¤¾à¤œà¤¿à¤¤ à¤•à¤°à¤¤à¥‹. à¤¹à¥‡ à¤¦à¥‹à¤¨à¥à¤¹à¥€ à¤­à¤¾à¤— **à¤…à¤°à¥à¤§à¤µà¥ƒà¤¤à¥à¤¤à¥€à¤¯ à¤µà¤•à¥à¤°** à¤…à¤¸à¤¤à¤¾à¤¤.
	"
]

var current_line = 0 


# Called when the node enters the scene tree for the first time.
func _ready() -> void:
	update_dialogue()
	next_button.connect("pressed", Callable(self, "_on_next_pressed"))

# Called every frame. 'delta' is the elapsed time since the previous frame.
func _process(delta: float) -> void:
	pass

func update_dialogue():
	if current_line < dialogue_lines.size():
		label.text = dialogue_lines[current_line]
	else:
		end_cutscene()
		
		
func _on_next_pressed() -> void:
	current_line += 1
	update_dialogue()



func end_cutscene():
	
	# Transition to the next part of the game
	get_tree().change_scene_to_file("res://scenes/level_3.tscn")
	


func _on_previous_pressed() -> void:
	if current_line >0:
		current_line -= 1
		update_dialogue()
	
